# ğŸ® Visual Game State Guide

## Starting State (After "VÃ¡n má»›i" Click)

```
BOARD DISPLAY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Red Pieces (Top)            â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å¸¥ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ River
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å°‡ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ Black Pieces (Bottom)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SIDE PANEL:
Status: Äá» ÄANG ÄI (Red is playing)
Turn: Äá» (Red)

Captured:
Äá» bá»‹ Äƒn: [empty]
ÄEN bá»‹ Äƒn: [empty]
```

## After Red Moves Pawn

```
BOARD DISPLAY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Red Pieces (Top)            â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å¸¥ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ River
â”‚ â˜ â˜ â˜ â˜ å…µ â˜ â˜ â˜ â˜ â† Moved â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å°‡ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ Black Pieces (Bottom)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SIDE PANEL:
Status: ÄEN ÄANG ÄI (Black is playing)
Turn: ÄEN (Black)

Captured:
Äá» bá»‹ Äƒn: [empty]
ÄEN bá»‹ Äƒn: [empty]

CONSOLE:
ğŸ¯ Di chuyá»ƒn Tá»‘t tá»« [6,4] Ä‘áº¿n [4,4]
ğŸ”„ ÄÃ£ Ä‘á»•i lÆ°á»£t: black
```

## After Black Moves Pawn to Position for Capture

```
BOARD DISPLAY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Red Pieces (Top)            â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å¸¥ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ River
â”‚ â˜ â˜ â˜ å’ å…µ â˜ â˜ â˜ â˜ â† Adjacent â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å°‡ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ Black Pieces (Bottom)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CONSOLE (When Red Selects Pawn):
ğŸ“ [3,4] - Ã”NG TRá»NG - CÃ“ THá»‚ ÄI
ğŸ“ [4,3] - CÃ“ QUÃ‚N Äá»ŠCH (å’) - CÃ“ THá»‚ Ä‚N  â† This is capture option!
ğŸ“ [5,4] - Ã”NG TRá»NG - CÃ“ THá»‚ ÄI
```

## During Capture - Red Clicks to Capture Black Pawn

```
ACTION: Red clicks square [4,3] to capture

CONSOLE OUTPUT - CAPTURE SEQUENCE:
âš”ï¸ Ä‚N QUÃ‚N Táº I [4,3]
ğŸ” QuÃ¢n bá»‹ Äƒn: å’ (black)
ğŸ– ÄANG Ä‚N QUÃ‚N: Tá»‘t (red) táº¡i [4,3]
   PhÃ­a trÆ°á»›c: activePieces cÃ³ 32 quÃ¢n
âœ… ÄÃ£ xÃ³a quÃ¢n khá»i activePieces (32 â†’ 31)
âœ… QuÃ¢n Ä‘Ã£ xÃ³a khá»i DOM táº¡i Ã´ [4,3]
âœ… ThÃªm vÃ o capturedPieces[black]
âœ… Hiá»ƒn thá»‹ quÃ¢n bá»‹ Äƒn á»Ÿ khu vá»±c: capturedBlack
ğŸ”„ ÄÃ£ Ä‘á»•i lÆ°á»£t: red
```

## After Capture - Board State

```
BOARD DISPLAY:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Red Pieces (Top)            â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å¸¥ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ River
â”‚ â˜ â˜ â˜ å…µ â˜ â˜ â˜ â˜ â˜ â† Red captured, pawn here â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ å°‡ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜ â˜         â”‚
â”‚ Black Pieces (Bottom)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

NOTE: Black pawn that was at [4,3] is GONE from board!

SIDE PANEL:
Status: ÄEN ÄANG ÄI (Black is playing)
Turn: ÄEN (Black)

Captured:
Äá» bá»‹ Äƒn: [empty]
ÄEN bá»‹ Äƒn: [å’]  â† Captured piece appears here!

CONSOLE:
ğŸ¯ Di chuyá»ƒn Tá»‘t tá»« [4,4] Ä‘áº¿n [4,3]
```

## Multiple Captures Later

```
BOARD DISPLAY:
(Various pieces moved and some captured)

SIDE PANEL:
Status: Äá» ÄANG ÄI
Turn: Äá»

Captured:
Äá» bá»‹ Äƒn: [è±¡][é¦¬]  â† 2 red pieces captured
ÄEN bá»‹ Äƒn: [å’][å…µ][è»Š]  â† 3 black pieces captured

Each icon shows the piece symbol
```

## Console Debug Commands (F12 Console)

```javascript
// Check what's selected
console.log(coTuongGame.selectedPiece);
// Output: { element: <div>, loai: "å…µ", mau: "red", hang: 4, cot: 3 }

// Check valid moves
console.log(coTuongGame.validMoves);
// Output: [
//   { hang: 3, cot: 3, laAnQuan: false },
//   { hang: 4, cot: 3, laAnQuan: true, quanBiAn: <div> }
// ]

// Check captured pieces
console.log(coTuongGame.capturedPieces);
// Output: {
//   red: [{loai: "è±¡", mau: "red"}, {loai: "é¦¬", mau: "red"}],
//   black: [{loai: "å’", mau: "black"}]
// }

// Check turn
console.log(coTuongGame.currentPlayer);
// Output: "red" or "black"

// Check piece count
console.log(coTuongGame.activePieces.length);
// Output: 31 (if 1 piece was captured)
```

## Error States

### Capture Failed - No Piece Found
```
CONSOLE:
âŒ Lá»–I: KhÃ´ng cÃ³ quÃ¢n Ä‘á»ƒ Äƒn! (quanBiAn = null)

BOARD STATE: Unchanged
ACTION: Try again, may be DOM loading issue
```

### Capture Failed - Missing HTML Element
```
CONSOLE:
âŒ Lá»–I: KhÃ´ng tÃ¬m tháº¥y khu vá»±c captured (capturedRed)

BOARD STATE: Piece moves but doesn't show in captured section
ACTION: Check if index.html has correct element IDs
```

### Capture Failed - Bad Piece Data
```
CONSOLE:
âŒ Lá»–I: QuÃ¢n khÃ´ng cÃ³ dataset Ä‘áº§y Ä‘á»§!
   mau: undefined, loaiQuan: undefined

BOARD STATE: Piece may disappear or cause errors
ACTION: Check if pieces created with correct dataset attributes
```

## Expected Behavior Summary

| Action | Console | Board | Captured Section |
|--------|---------|-------|------------------|
| Select piece | "Valid moves" | Highlights | N/A |
| Move to empty | "Di chuyá»ƒn" | Piece moves | No change |
| Capture | "Ä‚N QUÃ‚N" sequence | Piece moves, target gone | Icon appears |
| Switch turn | "Äá»•i lÆ°á»£t" | Turn indicator changes | No change |
| New game | Reset messages | All pieces reset | Cleared |

## Piece Movement Pattern (What You'll See)

```
When you select a pawn:
- Console shows valid squares
- Board shows highlighted squares
- Move forward: â˜ (empty)
- Capture diagonal: å’ (enemy)

When you click to move:
- If empty: Piece slides there
- If enemy: Piece goes there, enemy disappears

Turn indicator:
- Before move: Äá» ÄANG ÄI (Red)
- After move: ÄEN ÄANG ÄI (Black)
```

---

This is what you should see when playing! Compare your actual game with these diagrams to verify capture is working correctly.

